<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Profile</title>
    <link rel="stylesheet" href="re_style.css" />
  </head>
  <body>
    <div id="userDetailsCard">
      <h1>Welcome to Your Profile</h1>

      <img id="userImage" src="" alt="User Image" width="100" height="100" />
      <p id="userName"></p>
      <p id="userEmail"></p>

      <button id="logoutButton" onclick="logout()">Logout</button>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const userDetails = JSON.parse(localStorage.getItem("userDetails"));

        if (userDetails) {
          document.getElementById("userName").textContent = userDetails.name;
          document.getElementById("userEmail").textContent = userDetails.email;

          const userImage = document.getElementById("userImage");
          if (userDetails.imageUrl) {
            userImage.src = userDetails.imageUrl;
          } else {
            userImage.src = "default_image.png";
          }

          alert(`Welcome, ${userDetails.name}!`);
        } else {
          alert("No user data found!");
          window.location.replace("index.html");
        }
      });

      function logout() {
        const confirmation = confirm("Are you sure you want to log out?");
        if (confirmation) {
          localStorage.removeItem("userDetails");
          window.location.replace("index.html");
        }
      }
    </script>
  </body>
</html>
